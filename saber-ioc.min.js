/* @license saber2pr @see https://github.com/Saber2pr/saber-ioc */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).sioc=t()}(this,function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e,t){return e(t={exports:{}},t.exports),t.exports}var a=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.reflect=Reflect});e(a);a.reflect;var n=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decorate=function(e,t,a,n){if(0===e.length)throw new TypeError;return e.reduceRight(function(e,t){return t(e,a,n)||e},t)}});e(n);n.decorate;var f=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULTKAY="reflect:default"});e(f);f.DEFAULTKAY;var o=t(function(e,d){Object.defineProperty(d,"__esModule",{value:!0}),d.Metadata=new WeakMap,d.defineMetadata=function(e,t,a,n){if(void 0===n&&(n=f.DEFAULTKAY),"object"!=typeof a&&"function"!=typeof a)throw new TypeError;if(n&&!["string","symbol"].includes(typeof n))throw new TypeError;var r=d.Metadata.get(a)||new Map;d.Metadata.set(a,r);var o=r.get(n)||new Map;r.set(n,o),o.set(e,t)}});e(o);o.Metadata,o.defineMetadata;var d=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getOwnMetadataMap=function(e,t){if(void 0===t&&(t=f.DEFAULTKAY),"object"!=typeof e&&"function"!=typeof e)throw new TypeError;var a=o.Metadata.get(e);if(a){var n=a.get(t);if(n)return n}}});e(d);d.getOwnMetadataMap;var r=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteMetadata=function(e,t,a){var n=d.getOwnMetadataMap(t,a);return!!n&&n.delete(e)}});e(r);r.deleteMetadata;var i=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMetadataMap=function(e,t){void 0===t&&(t=f.DEFAULTKAY);var a=d.getOwnMetadataMap(e,t);if(a)return a;var n=o.Metadata.get(Object.getPrototypeOf(e));if(n){var r=n.get(t);if(r)return r}}});e(i);i.getMetadataMap;var c=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMetadata=function(e,t,a){var n=i.getMetadataMap(t,a);if(n)return n.get(e)},t.getOwnMetadata=function(e,t,a){var n=d.getOwnMetadataMap(t,a);if(n)return n.get(e)}});e(c);c.getMetadata,c.getOwnMetadata;var u=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getOwnMetadataKeys=function(e,t){var a=d.getOwnMetadataMap(e,t);return a?Array.from(a.keys()):[]}});e(u);u.getOwnMetadataKeys;var M=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMetadataKeys=function(e,t){var a=u.getOwnMetadataKeys(e,t),n=u.getOwnMetadataKeys(Object.getPrototypeOf(e),t);return a.concat(n)}});e(M);M.getMetadataKeys;var l=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.hasMetadata=function(e,t,a){return M.getMetadataKeys(t,a).includes(e)}});e(l);l.hasMetadata;var s=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.hasOwnMetadata=function(e,t,a){return u.getOwnMetadataKeys(t,a).includes(e)}});e(s);s.hasOwnMetadata;var p=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.metadata=function(a,n){return function(e,t){return o.defineMetadata(a,n,e,t)}}});e(p);p.metadata;var v=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Reflector={decorate:n.decorate,defineMetadata:o.defineMetadata,deleteMetadata:r.deleteMetadata,getMetadata:c.getMetadata,getMetadataKeys:M.getMetadataKeys,getOwnMetadata:c.getOwnMetadata,getOwnMetadataKeys:u.getOwnMetadataKeys,hasMetadata:l.hasMetadata,hasOwnMetadata:s.hasOwnMetadata,metadata:p.metadata},t.Reflect=Object.assign(a.reflect,t.Reflector)});e(v);v.Reflector,v.Reflect;var y=t(function(e,a){Object.defineProperty(a,"__esModule",{value:!0}),function(e){for(var t in e)a.hasOwnProperty(t)||(a[t]=e[t])}(v)});e(y);var g=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MetaStore={}});e(g);g.MetaStore;var O=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Injectable=function(a){return function(e){var t=a||e.name;if(y.Reflect.hasMetadata(t,g.MetaStore))throw new Error("id:["+String(t)+"] is existed!");y.Reflect.defineMetadata(t,e,g.MetaStore)}},t.Inject=function(r){return function(e,t,a){var n=y.Reflect.getMetadata("@@meta",e)||[];n.push({id:r,index:a}),y.Reflect.defineMetadata("@@meta",n,e)}},t.Singleton=function(e){y.Reflect.defineMetadata("@@static",void 0,e)},t.Static=function(e){y.Reflect.defineMetadata("@@static",void 0,e)}});e(O);O.Injectable,O.Inject,O.Singleton,O.Static;var w=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Injector=function e(t){if(y.Reflect.hasMetadata("@@static",t))return t;var a=y.Reflect.getMetadata("design:paramtypes",t)||[];(y.Reflect.getMetadata("@@meta",t)||[]).forEach(function(e){if(!y.Reflect.hasMetadata(e.id,g.MetaStore))throw new Error("injected dep:"+String(e.id)+" not found");a[e.index]=y.Reflect.getMetadata(e.id,g.MetaStore)});var n=a.map(e);return new(t.bind.apply(t,[void 0].concat(n)))}});e(w);w.Injector;return e(t(function(e,a){function t(e){for(var t in e)a.hasOwnProperty(t)||(a[t]=e[t])}Object.defineProperty(a,"__esModule",{value:!0}),t(O),t(w)}))});
